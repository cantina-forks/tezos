# This file was automatically generated, do not edit.
# Edit file ci/bin/main.ml instead.

publish_kernel_sdk:
  image: ${rust_toolchain_image_name}:${rust_toolchain_image_tag}
  stage: manual
  tags:
  - gcp
  rules:
  - when: manual
    allow_failure: false
  needs:
  - oc.docker:rust-toolchain
  dependencies:
  - oc.docker:rust-toolchain
  allow_failure: true
  cache:
    key: kernels
    paths:
    - cargo/
  interruptible: false
  script:
  - make -f kernels.mk publish-sdk-deps
  - SSL_CERT_DIR=/etc/ssl/certs CC=clang make -f kernels.mk publish-sdk
  variables:
    CARGO_HOME: $CI_PROJECT_DIR/cargo
